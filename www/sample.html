<!DOCTYPE HTML>
<html>
<head>
 <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data:; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <script src="components/loader.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/cssua.min.js"></script>
    <script src="js/app.js"></script>



{% extends "base.html" %}

{% block body %}
  <a href="{% url 'crud:add' %}">登録画面へ</a>
  <form method="post" action="{% url 'crud:delete' %}">{# actionを変更する #}
    <table border="1">
      <thead>
        <tr>
          <th>　</th>{# 追加する #}
          <th>message</th>
          <th>created_at</th>
          <th>updated_at</th>
          <th>　</th>
        </tr>
      </thead>
      <tbody>
        {% for message in messages %}
          <tr>
            <td><input type="checkbox" name="delete_ids" value="{{ message.id }}"></td>{# 追加する #}
            <td>{{ message.message }}</td>
            <td>{{ message.created_at }}</td>
            <td>{{ message.updated_at }}</td>
            <td><a href="{% url 'crud:edit' message.id %}">更新画面へ</a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {% csrf_token %}{# 追加する #}
    <input type="submit" value="削除">
  </form>
{% endblock %}




</body>
</html>